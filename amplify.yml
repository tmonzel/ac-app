version: 1
frontend:
  phases:
    preBuild:
      commands:
        - 'nvm install 18.20.7'
        - 'nvm use 18.20.7'
        - 'npm i'
    build:
      commands:
        - 'nvm use 18.20.7'
        - 'npm run build'
        - 'cd build/compute/default/'
        - 'npm i --omit=dev'
  artifacts:
    baseDirectory: build
    files:
      - '**/*'
  cache:
    paths:
      - '.npm/**/*'
